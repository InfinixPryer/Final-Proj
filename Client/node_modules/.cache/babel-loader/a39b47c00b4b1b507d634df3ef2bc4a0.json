{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Angelo Kyle Filipino\\\\Downloads\\\\Kyle\\\\#4 THIRD YEAR\\\\CET5\\\\Final Proj\\\\Frontend\\\\src\\\\productinfo.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { addItemToCart } from \"./actions\";\nimport products from \"./products\";\nexport const ProductInfo = ({\n  match\n}) => {\n  _s();\n\n  const {\n    product_name\n  } = useParams(); // change to match when api is available\n  //const product = useSelector(state => state.itemlist.find(item=>item.name===product_name))\n\n  const _item = products.find(item => item.name === product_name);\n\n  const {\n    imgs,\n    type,\n    name,\n    options,\n    preferences,\n    details\n  } = _item;\n  const optionsEntries = Object.keys(options).map(key => [key, options[key]]);\n  const prefEntries = Object.keys(preferences).map(pref => [pref, preferences[pref]]);\n  const low = optionsEntries.map(a => a[1]).reduce((a, b) => Math.min(a, b));\n  const high = optionsEntries.map(a => a[1]).reduce((a, b) => Math.max(a, b));\n  const optionsrange = `${low}  - \\u20b1${high}`;\n  const qtyInp = useRef();\n  const [choices, setChoice] = useState({\n    selected: \"\",\n    quantity: 1,\n    price: optionsrange,\n    selected_option: 0,\n    selected_preference: \"\"\n  });\n\n  const handleQtySelect = e => {\n    const qty = e.target.value;\n    console.log(qty);\n    setChoice({ ...choices,\n      quantity: qty,\n      price: choices.selected_option * qty\n    });\n  };\n\n  const handleOptionsSelect = (option, weight) => {\n    qtyInp.current.disabled = false;\n    setChoice({ ...choices,\n      selected: name + \" \" + weight,\n      price: option * choices.quantity,\n      selected_option: option\n    });\n  };\n\n  const handlePrefSelect = pref => {\n    setChoice({ ...choices,\n      selected_preference: pref\n    });\n  };\n  /* \r\n  if (!product) {\r\n    return (\r\n      <section className=\"flex w-full h-page overflow-hidden bg-white \">\r\n        <h1>Sorry that item does not exist!</h1>\r\n      </section>\r\n    );\r\n  } */\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"flex w-full h-page overflow-hidden bg-white \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute font-work /text-white text-sm py-1 rounded-br-md pl-6 pr-4 bg-white /bg-darkbrown\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/Products\",\n        children: `< PRODUCTS / `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), `${name.toUpperCase()}`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" w-5/12 my-auto  float-left ml-10\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgs[0],\n        alt: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"float-right w-5/12  absolute pr-5 h-page right-12 flex shadow-lg font-work flex-col bg-white p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \" text-2xl font-medium font-poppins pb-1\",\n        children: name.toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: type.toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"my-5 font-light w-96 text-sm \",\n        children: details\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"my-2 flex-col font-semibold font-poppins flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-normal pt-1\",\n          children: \"OPTIONS: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Radiospan, {\n          name: name,\n          grpname: \"optionsOpt\",\n          handleSelect: handleOptionsSelect,\n          entries: optionsEntries\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-normal pt-1\",\n          children: \"BEANS: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Radiospan, {\n          name: name,\n          grpname: \"prefOpt\",\n          handleSelect: handlePrefSelect,\n          entries: prefEntries\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"w-full flex h-12  border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: true,\n          ref: qtyInp,\n          type: \"number\",\n          placeholder: \"1\",\n          min: \"1\",\n          max: \"50\",\n          onChange: e => handleQtySelect(e),\n          className: \"w-10 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \" text-coffee text-2xl mt-2 mr-6 \",\n          children: \"\\u20b1\" + choices.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bottom-1\",\n        children: /*#__PURE__*/_jsxDEV(AddtoCartBtn, {\n          choices: choices\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductInfo, \"3xBSnSzTWZrDR6G6Iyj31a4PHiM=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductInfo;\n\nconst Radiospan = ({\n  name,\n  grpname,\n  handleSelect,\n  entries\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"w-full\",\n    children: entries.map(entry => {\n      const value = entry[1];\n      let key = entry[0];\n      return /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"radcon\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: name + grpname,\n          value: value,\n          onChange: () => {\n            grpname === \"optionsOpt\" ? handleSelect(value, key) : handleSelect(value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"border inline-block mt-1 border-darkbrown font-normal font-work text-sm rounded px-3 py-2 mx-1 transition-colors\",\n          children: key\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, name + key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = Radiospan;\n\nconst AddtoCartBtn = ({\n  choices\n}) => {\n  _s2();\n\n  const dispatch = useDispatch();\n\n  const handleAdd = e => {\n    e.preventDefault();\n\n    if (choices.selected && choices.selected_preference) {\n      const selecteditem = {\n        id: new Date().getTime().toString(),\n        name: choices.selected,\n        quantity: choices.quantity,\n        price: choices.price,\n        preference: choices.selected_preference\n      };\n      dispatch(addItemToCart(selecteditem));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"flex justify-center h-10\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        handleAdd(e);\n      },\n      className: \" w-11/12 mt-3 m-auto  active:bg-gray-800 flex text-sm justify-center bg-white rounded-md border-darkbrown border py-3 font-poppins btn-focus hover:text-white hover:bg-darkbrown hover:btn-focus-hover \",\n      children: \"ADD TO BAG\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(AddtoCartBtn, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c3 = AddtoCartBtn;\nexport default ProductInfo;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ProductInfo\");\n$RefreshReg$(_c2, \"Radiospan\");\n$RefreshReg$(_c3, \"AddtoCartBtn\");","map":{"version":3,"sources":["C:/Users/Angelo Kyle Filipino/Downloads/Kyle/#4 THIRD YEAR/CET5/Final Proj/Frontend/src/productinfo.js"],"names":["React","useState","useRef","useDispatch","useParams","Link","addItemToCart","products","ProductInfo","match","product_name","_item","find","item","name","imgs","type","options","preferences","details","optionsEntries","Object","keys","map","key","prefEntries","pref","low","a","reduce","b","Math","min","high","max","optionsrange","qtyInp","choices","setChoice","selected","quantity","price","selected_option","selected_preference","handleQtySelect","e","qty","target","value","console","log","handleOptionsSelect","option","weight","current","disabled","handlePrefSelect","toUpperCase","Radiospan","grpname","handleSelect","entries","entry","AddtoCartBtn","dispatch","handleAdd","preventDefault","selecteditem","id","Date","getTime","toString","preference"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,kBAAhC;AACA,SAASC,aAAT,QAA8B,WAA9B;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,OAAO,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AAAA;;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAmBN,SAAS,EAAlC,CADwC,CACF;AACtC;;AACA,QAAMO,KAAK,GAAGJ,QAAQ,CAACK,IAAT,CAAeC,IAAD,IAAUA,IAAI,CAACC,IAAL,KAAcJ,YAAtC,CAAd;;AAEA,QAAM;AAAEK,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcF,IAAAA,IAAd;AAAoBG,IAAAA,OAApB;AAA6BC,IAAAA,WAA7B;AAA0CC,IAAAA;AAA1C,MAAsDR,KAA5D;AACA,QAAMS,cAAc,GAAGC,MAAM,CAACC,IAAP,CAAYL,OAAZ,EAAqBM,GAArB,CAA0BC,GAAD,IAAS,CAACA,GAAD,EAAMP,OAAO,CAACO,GAAD,CAAb,CAAlC,CAAvB;AACA,QAAMC,WAAW,GAAGJ,MAAM,CAACC,IAAP,CAAYJ,WAAZ,EAAyBK,GAAzB,CAA8BG,IAAD,IAAU,CACzDA,IADyD,EAEzDR,WAAW,CAACQ,IAAD,CAF8C,CAAvC,CAApB;AAKA,QAAMC,GAAG,GAAGP,cAAc,CAACG,GAAf,CAAoBK,CAAD,IAAOA,CAAC,CAAC,CAAD,CAA3B,EAAgCC,MAAhC,CAAuC,CAACD,CAAD,EAAIE,CAAJ,KAAUC,IAAI,CAACC,GAAL,CAASJ,CAAT,EAAYE,CAAZ,CAAjD,CAAZ;AACA,QAAMG,IAAI,GAAGb,cAAc,CAACG,GAAf,CAAoBK,CAAD,IAAOA,CAAC,CAAC,CAAD,CAA3B,EAAgCC,MAAhC,CAAuC,CAACD,CAAD,EAAIE,CAAJ,KAAUC,IAAI,CAACG,GAAL,CAASN,CAAT,EAAYE,CAAZ,CAAjD,CAAb;AACA,QAAMK,YAAY,GAAI,GAAER,GAAI,aAAYM,IAAK,EAA7C;AACA,QAAMG,MAAM,GAAGlC,MAAM,EAArB;AAEA,QAAM,CAACmC,OAAD,EAAUC,SAAV,IAAuBrC,QAAQ,CAAC;AACpCsC,IAAAA,QAAQ,EAAE,EAD0B;AAEpCC,IAAAA,QAAQ,EAAE,CAF0B;AAGpCC,IAAAA,KAAK,EAAEN,YAH6B;AAIpCO,IAAAA,eAAe,EAAE,CAJmB;AAKpCC,IAAAA,mBAAmB,EAAE;AALe,GAAD,CAArC;;AAQA,QAAMC,eAAe,GAAIC,CAAD,IAAO;AAC7B,UAAMC,GAAG,GAAGD,CAAC,CAACE,MAAF,CAASC,KAArB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACAR,IAAAA,SAAS,CAAC,EACR,GAAGD,OADK;AAERG,MAAAA,QAAQ,EAAEM,GAFF;AAGRL,MAAAA,KAAK,EAAEJ,OAAO,CAACK,eAAR,GAA0BI;AAHzB,KAAD,CAAT;AAKD,GARD;;AAUA,QAAMK,mBAAmB,GAAG,CAACC,MAAD,EAASC,MAAT,KAAoB;AAC9CjB,IAAAA,MAAM,CAACkB,OAAP,CAAeC,QAAf,GAA0B,KAA1B;AACAjB,IAAAA,SAAS,CAAC,EACR,GAAGD,OADK;AAERE,MAAAA,QAAQ,EAAEzB,IAAI,GAAG,GAAP,GAAauC,MAFf;AAGRZ,MAAAA,KAAK,EAAEW,MAAM,GAAGf,OAAO,CAACG,QAHhB;AAIRE,MAAAA,eAAe,EAAEU;AAJT,KAAD,CAAT;AAMD,GARD;;AAUA,QAAMI,gBAAgB,GAAI9B,IAAD,IAAU;AACjCY,IAAAA,SAAS,CAAC,EACR,GAAGD,OADK;AAERM,MAAAA,mBAAmB,EAAEjB;AAFb,KAAD,CAAT;AAID,GALD;AAMA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEE,sBACE;AAAS,IAAA,SAAS,EAAC,8CAAnB;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,4FAAf;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,WAAT;AAAA,kBAAuB;AAAvB;AAAA;AAAA;AAAA;AAAA,cADF,EAEI,GAAEZ,IAAI,CAAC2C,WAAL,EAAmB,EAFzB;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAKE;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAA,6BACE;AAAK,QAAA,GAAG,EAAE1C,IAAI,CAAC,CAAD,CAAd;AAAmB,QAAA,GAAG,EAAED;AAAxB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YALF,eASE;AAAK,MAAA,SAAS,EAAC,kGAAf;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,yCAAd;AAAA,kBACGA,IAAI,CAAC2C,WAAL;AADH;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAA,kBAAIzC,IAAI,CAACyC,WAAL;AAAJ;AAAA;AAAA;AAAA;AAAA,cAJF,eAME;AAAG,QAAA,SAAS,EAAC,+BAAb;AAAA,kBAA8CtC;AAA9C;AAAA;AAAA;AAAA;AAAA,cANF,eAQE;AAAM,QAAA,SAAS,EAAC,+DAAhB;AAAA,gCACE;AAAG,UAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,SAAD;AACE,UAAA,IAAI,EAAEL,IADR;AAEE,UAAA,OAAO,EAAC,YAFV;AAGE,UAAA,YAAY,EAAEqC,mBAHhB;AAIE,UAAA,OAAO,EAAE/B;AAJX;AAAA;AAAA;AAAA;AAAA,gBAFF,eAQE;AAAG,UAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eASE,QAAC,SAAD;AACE,UAAA,IAAI,EAAEN,IADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,YAAY,EAAE0C,gBAHhB;AAIE,UAAA,OAAO,EAAE/B;AAJX;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,eAwBE;AAAM,QAAA,SAAS,EAAC,4BAAhB;AAAA,gCACE;AACE,UAAA,QAAQ,MADV;AAEE,UAAA,GAAG,EAAEW,MAFP;AAGE,UAAA,IAAI,EAAC,QAHP;AAIE,UAAA,WAAW,EAAC,GAJd;AAKE,UAAA,GAAG,EAAC,GALN;AAME,UAAA,GAAG,EAAC,IANN;AAOE,UAAA,QAAQ,EAAGS,CAAD,IAAOD,eAAe,CAACC,CAAD,CAPlC;AAQE,UAAA,SAAS,EAAC;AARZ;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE;AAAG,UAAA,SAAS,EAAC,kCAAb;AAAA,oBACG,WAAWR,OAAO,CAACI;AADtB;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBF,eAwCE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,+BACE,QAAC,YAAD;AAAc,UAAA,OAAO,EAAEJ;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAxCF;AAAA;AAAA;AAAA;AAAA;AAAA,YATF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAwDD,CApHM;;GAAM7B,W;UACcJ,S;;;KADdI,W;;AAsHb,MAAMkD,SAAS,GAAG,CAAC;AAAE5C,EAAAA,IAAF;AAAQ6C,EAAAA,OAAR;AAAiBC,EAAAA,YAAjB;AAA+BC,EAAAA;AAA/B,CAAD,KAA8C;AAC9D,sBACE;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAA,cACGA,OAAO,CAACtC,GAAR,CAAauC,KAAD,IAAW;AACtB,YAAMd,KAAK,GAAGc,KAAK,CAAC,CAAD,CAAnB;AACA,UAAItC,GAAG,GAAGsC,KAAK,CAAC,CAAD,CAAf;AAEA,0BACE;AAAO,QAAA,SAAS,EAAC,QAAjB;AAAA,gCACE;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,IAAI,EAAEhD,IAAI,GAAG6C,OAFf;AAGE,UAAA,KAAK,EAAEX,KAHT;AAIE,UAAA,QAAQ,EAAE,MAAM;AACdW,YAAAA,OAAO,KAAK,YAAZ,GACIC,YAAY,CAACZ,KAAD,EAAQxB,GAAR,CADhB,GAEIoC,YAAY,CAACZ,KAAD,CAFhB;AAGD;AARH;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE;AAAM,UAAA,SAAS,EAAC,kHAAhB;AAAA,oBACGxB;AADH;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA,SAA+BV,IAAI,GAAGU,GAAtC;AAAA;AAAA;AAAA;AAAA,cADF;AAiBD,KArBA;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AA0BD,CA3BD;;MAAMkC,S;;AA6BN,MAAMK,YAAY,GAAG,CAAC;AAAE1B,EAAAA;AAAF,CAAD,KAAiB;AAAA;;AACpC,QAAM2B,QAAQ,GAAG7D,WAAW,EAA5B;;AACA,QAAM8D,SAAS,GAAIpB,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACqB,cAAF;;AACA,QAAI7B,OAAO,CAACE,QAAR,IAAoBF,OAAO,CAACM,mBAAhC,EAAqD;AACnD,YAAMwB,YAAY,GAAG;AACnBC,QAAAA,EAAE,EAAE,IAAIC,IAAJ,GAAWC,OAAX,GAAqBC,QAArB,EADe;AAEnBzD,QAAAA,IAAI,EAAEuB,OAAO,CAACE,QAFK;AAGnBC,QAAAA,QAAQ,EAAEH,OAAO,CAACG,QAHC;AAInBC,QAAAA,KAAK,EAAEJ,OAAO,CAACI,KAJI;AAKnB+B,QAAAA,UAAU,EAAEnC,OAAO,CAACM;AALD,OAArB;AAOAqB,MAAAA,QAAQ,CAAC1D,aAAa,CAAC6D,YAAD,CAAd,CAAR;AACD;AACF,GAZD;;AAcA,sBACE;AAAM,IAAA,SAAS,EAAC,0BAAhB;AAAA,2BACE;AACE,MAAA,OAAO,EAAGtB,CAAD,IAAO;AACdoB,QAAAA,SAAS,CAACpB,CAAD,CAAT;AACD,OAHH;AAIE,MAAA,SAAS,EAAC,yMAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CA5BD;;IAAMkB,Y;UACa5D,W;;;MADb4D,Y;AA8BN,eAAevD,WAAf","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { addItemToCart } from \"./actions\";\r\nimport products from \"./products\";\r\n\r\nexport const ProductInfo = ({ match }) => {\r\n  const { product_name } = useParams(); // change to match when api is available\r\n  //const product = useSelector(state => state.itemlist.find(item=>item.name===product_name))\r\n  const _item = products.find((item) => item.name === product_name);\r\n\r\n  const { imgs, type, name, options, preferences, details } = _item;\r\n  const optionsEntries = Object.keys(options).map((key) => [key, options[key]]);\r\n  const prefEntries = Object.keys(preferences).map((pref) => [\r\n    pref,\r\n    preferences[pref],\r\n  ]);\r\n\r\n  const low = optionsEntries.map((a) => a[1]).reduce((a, b) => Math.min(a, b));\r\n  const high = optionsEntries.map((a) => a[1]).reduce((a, b) => Math.max(a, b));\r\n  const optionsrange = `${low}  - \\u20b1${high}`;\r\n  const qtyInp = useRef();\r\n\r\n  const [choices, setChoice] = useState({\r\n    selected: \"\",\r\n    quantity: 1,\r\n    price: optionsrange,\r\n    selected_option: 0,\r\n    selected_preference: \"\",\r\n  });\r\n\r\n  const handleQtySelect = (e) => {\r\n    const qty = e.target.value;\r\n    console.log(qty);\r\n    setChoice({\r\n      ...choices,\r\n      quantity: qty,\r\n      price: choices.selected_option * qty,\r\n    });\r\n  };\r\n\r\n  const handleOptionsSelect = (option, weight) => {\r\n    qtyInp.current.disabled = false;\r\n    setChoice({\r\n      ...choices,\r\n      selected: name + \" \" + weight,\r\n      price: option * choices.quantity,\r\n      selected_option: option,\r\n    });\r\n  };\r\n\r\n  const handlePrefSelect = (pref) => {\r\n    setChoice({\r\n      ...choices,\r\n      selected_preference: pref,\r\n    });\r\n  };\r\n  /* \r\n  if (!product) {\r\n    return (\r\n      <section className=\"flex w-full h-page overflow-hidden bg-white \">\r\n        <h1>Sorry that item does not exist!</h1>\r\n      </section>\r\n    );\r\n  } */\r\n\r\n  return (\r\n    <section className=\"flex w-full h-page overflow-hidden bg-white \">\r\n      <div className=\"absolute font-work /text-white text-sm py-1 rounded-br-md pl-6 pr-4 bg-white /bg-darkbrown\">\r\n        <Link to=\"/Products\">{`< PRODUCTS / `}</Link>\r\n        {`${name.toUpperCase()}`}\r\n      </div>\r\n      <div className=\" w-5/12 my-auto  float-left ml-10\">\r\n        <img src={imgs[0]} alt={name} />\r\n      </div>\r\n\r\n      <div className=\"float-right w-5/12  absolute pr-5 h-page right-12 flex shadow-lg font-work flex-col bg-white p-6\">\r\n        <h1 className=\" text-2xl font-medium font-poppins pb-1\">\r\n          {name.toUpperCase()}\r\n        </h1>\r\n        <p>{type.toUpperCase()}</p>\r\n\r\n        <p className=\"my-5 font-light w-96 text-sm \">{details}</p>\r\n\r\n        <span className=\"my-2 flex-col font-semibold font-poppins flex justify-between\">\r\n          <p className=\"font-normal pt-1\">OPTIONS: </p>\r\n          <Radiospan\r\n            name={name}\r\n            grpname=\"optionsOpt\"\r\n            handleSelect={handleOptionsSelect}\r\n            entries={optionsEntries}\r\n          />\r\n          <p className=\"font-normal pt-1\">BEANS: </p>\r\n          <Radiospan\r\n            name={name}\r\n            grpname=\"prefOpt\"\r\n            handleSelect={handlePrefSelect}\r\n            entries={prefEntries}\r\n          />\r\n        </span>\r\n        <span className=\"w-full flex h-12  border-b\">\r\n          <input\r\n            disabled\r\n            ref={qtyInp}\r\n            type=\"number\"\r\n            placeholder=\"1\"\r\n            min=\"1\"\r\n            max=\"50\"\r\n            onChange={(e) => handleQtySelect(e)}\r\n            className=\"w-10 mx-auto\"\r\n          />\r\n          <p className=\" text-coffee text-2xl mt-2 mr-6 \">\r\n            {\"\\u20b1\" + choices.price}\r\n          </p>\r\n        </span>\r\n\r\n        <div className=\"relative bottom-1\">\r\n          <AddtoCartBtn choices={choices} />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nconst Radiospan = ({ name, grpname, handleSelect, entries }) => {\r\n  return (\r\n    <span className=\"w-full\">\r\n      {entries.map((entry) => {\r\n        const value = entry[1];\r\n        let key = entry[0];\r\n\r\n        return (\r\n          <label className=\"radcon\" key={name + key}>\r\n            <input\r\n              type=\"radio\"\r\n              name={name + grpname}\r\n              value={value}\r\n              onChange={() => {\r\n                grpname === \"optionsOpt\"\r\n                  ? handleSelect(value, key)\r\n                  : handleSelect(value);\r\n              }}\r\n            />\r\n            <span className=\"border inline-block mt-1 border-darkbrown font-normal font-work text-sm rounded px-3 py-2 mx-1 transition-colors\">\r\n              {key}\r\n            </span>\r\n          </label>\r\n        );\r\n      })}\r\n    </span>\r\n  );\r\n};\r\n\r\nconst AddtoCartBtn = ({ choices }) => {\r\n  const dispatch = useDispatch();\r\n  const handleAdd = (e) => {\r\n    e.preventDefault();\r\n    if (choices.selected && choices.selected_preference) {\r\n      const selecteditem = {\r\n        id: new Date().getTime().toString(),\r\n        name: choices.selected,\r\n        quantity: choices.quantity,\r\n        price: choices.price,\r\n        preference: choices.selected_preference,\r\n      };\r\n      dispatch(addItemToCart(selecteditem));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <span className=\"flex justify-center h-10\">\r\n      <button\r\n        onClick={(e) => {\r\n          handleAdd(e);\r\n        }}\r\n        className=\" w-11/12 mt-3 m-auto  active:bg-gray-800 flex text-sm justify-center bg-white rounded-md border-darkbrown border py-3 font-poppins btn-focus hover:text-white hover:bg-darkbrown hover:btn-focus-hover \"\r\n      >\r\n        ADD TO BAG\r\n      </button>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ProductInfo;\r\n"]},"metadata":{},"sourceType":"module"}